
# DEFRAG — SPEC BIBLE (Authoritative)

## 0) Core principle
DEFRAG visualizes **state, motion, coherence** without self-report. "State" is computed by the DEFRAG engine from objective inputs (birth data + time).

## 1) Visual law (non-negotiable)
- Background: true black (void-first)
- Base palette: monochrome (charcoal → off-white)
- Single accent hue: **electric cyan** only (intensity/phase shifts permitted)
- Iridescence: permitted **only** on user input, titles, and snap-to-form moments
- Gold: permitted **only** during "The Bow" closure sequence

## 2) Entry sequence (first login/sign-up)
1. VOID / open space
2. ONION WHEEL (planetary wheel / layered circular orbits)
3. ROTATE to vertical axis → SPRING (spiral journal / corkscrew)
4. FLY into center (down Axis Mundi)
5. FADE to black
6. CYMATIC MANDALA appears, shifts, then **snaps** into final form
7. Mandala becomes user "default photo" / identity glyph
8. Pull back to the FLOOR

## 3) The floor (dashboard)
- A checkerboard visual of many tiles.
- Each tile is a **mandala representing a user’s live state in real time**.
- The floor is a **relational mesh** concept.
- "No parking on the dance floor": tiles should read as living (motion/phase), except explicit "parked" state.

## 4) States (visual encoding)
State is computed by engine; renderer maps state → motion/appearance:
- Calm / coherent: stable symmetric mandala, low jitter, higher cyan intensity
- Erratic / low coherence: higher jitter, less stable form, lower cyan intensity
- Parked: greyed/low contrast, near-zero motion
- Tension: represent via motion dynamics and intensity (do **not** introduce new hues; use cyan intensity, line pressure, jitter profile)

## 5) Overlays (interaction)
Tap a tile:
- Overlay natal chart as relational geometry (thin wireframe)
- Vector cube overlay: slide continuously from gift → shadow (geometry transform, not color shift)
- Family overlay: computed natal members shown as system ring(s); dynamics via spacing/dashes.

## 6) Timeline (spiral time)
- Perspective shift (camera pan/tilt/zoom) can transform the floor into a spiral timeline.
- User can capture events/journal/synchronicity entries with metadata (context nodes, not feed).
- Timeline is a helix extrusion; nodes as beads; no list UI as primary.

## 7) Curriculum (3–7 day arc, paid tier)
- Inside app: 3–7 day curriculum, gated by Stripe tier.
- Curriculum tiles live near the user tile (not a separate feed).

## 8) Privacy and identity
- Other users are anonymous by default.
- User may choose abbreviated name/initials or anonymous mode.

## 9) Performance constraints
- Infinite logical grid, finite render radius.
- LOD tiers: near, mid, far ghost.
- Mobile budgets enforced; reduce motion supported.

## 10) Success criteria
- Entry sequence matches canonical order and feels modern, minimal, high polish.
- Floor reads as void but alive; mandalas are focal highlights.
- Interactions feel immediate; no palette drift.
